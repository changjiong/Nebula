# Counterparty Mining Agent Configuration
# 交易对手挖掘 Agent 配置文件

name: counterparty_mining
version: "1.0.0"
description: "交易对手挖掘 Agent - 基于目标企业挖掘上下游交易对手，支持关系图谱可视化"

# Input schema definition
input:
  - name: enterprise_name
    type: string
    required: false
    description: "目标企业名称"
  - name: credit_code
    type: string
    required: false
    description: "统一社会信用代码"
  - name: direction
    type: string
    required: false
    default: "both"
    description: "挖掘方向: upstream (上游)/downstream (下游)/both (双向)"
  - name: depth
    type: int
    required: false
    default: 2
    description: "挖掘深度层级 (1-3)"
  - name: limit
    type: int
    required: false
    default: 20
    description: "返回结果数量限制"

# Output schema definition
output:
  - name: counterparties
    type: array
    description: "交易对手列表，包含企业信息和关系类型"
  - name: graph_data
    type: object
    description: "关系图谱数据，包含 nodes 和 edges"
  - name: statistics
    type: object
    description: "统计信息：上游数量、下游数量、总数"

# External service configurations
services:
  - name: data_warehouse
    endpoint: /api/v1/enterprise/supply_chain
    method: POST
    description: "供应链关系数据接口"
    timeout: 30
    retry_count: 2

  - name: external_api
    endpoint: /api/v1/relation/graph
    method: POST
    description: "关系图谱查询接口"
    timeout: 20
    retry_count: 2

# Additional metadata
metadata:
  category: "relationship_mining"
  tags:
    - counterparty
    - supply_chain
    - graph
  author: "Agent Portal Team"
  created_at: "2026-01-14"
